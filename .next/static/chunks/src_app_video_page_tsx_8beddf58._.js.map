{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/olaropetercelestine/Desktop/bbs/nrgug/nrg-website-dev/src/app/video/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\n\ninterface Show {\n  id: number\n  show_name: string\n  image: string\n  time: string\n  presenters: string\n  day_of_week: string\n}\n\nexport default function VideoPage() {\n  const [shows, setShows] = useState<Show[]>([])\n  const [currentShow, setCurrentShow] = useState<Show | null>(null)\n  const [loading, setLoading] = useState(true)\n  const router = useRouter()\n\n  // Fetch shows from API\n  const fetchShows = async () => {\n    try {\n      const response = await fetch('https://nrgug-api-production.up.railway.app/api/shows')\n      if (response.ok) {\n        const data = await response.json()\n        setShows(data)\n      }\n    } catch (error) {\n      console.error('Failed to fetch shows:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Get current day of week\n  const getCurrentDay = () => {\n    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    return days[new Date().getDay()]\n  }\n\n  // Get current time in HH:MM format\n  const getCurrentTime = () => {\n    const now = new Date()\n    return now.toLocaleTimeString('en-US', { \n      hour12: false, \n      hour: '2-digit', \n      minute: '2-digit' \n    })\n  }\n\n  // Find current show based on day and time\n  const getCurrentShow = (shows: Show[]) => {\n    if (shows.length === 0) return null\n\n    const currentDay = getCurrentDay()\n    const currentTime = getCurrentTime()\n    \n    // Filter shows for current day and sort by start time\n    const todayShows = shows\n      .filter(show => show.day_of_week === currentDay)\n      .sort((a, b) => {\n        const aStartTime = a.time.split(' - ')[0]\n        const bStartTime = b.time.split(' - ')[0]\n        return aStartTime.localeCompare(bStartTime)\n      })\n    \n    if (todayShows.length === 0) return null\n\n    // Find show that matches current time\n    for (const show of todayShows) {\n      const [startTime, endTime] = show.time.split(' - ')\n      if (currentTime >= startTime && currentTime <= endTime) {\n        return show\n      }\n    }\n\n    // If no show matches current time, return the first show of the day (earliest)\n    return todayShows[0]\n  }\n\n  useEffect(() => {\n    fetchShows()\n  }, [])\n\n  useEffect(() => {\n    if (shows.length > 0) {\n      const show = getCurrentShow(shows)\n      setCurrentShow(show)\n    }\n  }, [shows])\n\n  // Update current show every minute\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (shows.length > 0) {\n        const show = getCurrentShow(shows)\n        setCurrentShow(show)\n      }\n    }, 60000) // Check every minute\n\n    return () => clearInterval(interval)\n  }, [shows])\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      {/* Full Screen Video Container */}\n      <div className=\"relative w-full bg-black\" style={{ height: '100vh' }}>\n        {/* Video Player */}\n        <div className=\"absolute inset-0 w-full h-full\">\n          <iframe\n            src=\"https://live2.tensila.com/nrg-radio-v-1.nrgug/player.html\"\n            className=\"w-full h-full\"\n            frameBorder=\"0\"\n            allow=\"autoplay; encrypted-media; picture-in-picture; fullscreen\"\n            allowFullScreen\n            title=\"NRG Radio Live Video\"\n          />\n        </div>\n\n        {/* Close Button */}\n        <div className=\"absolute top-4 right-4 z-20\">\n          <button\n            onClick={() => router.push('/')}\n            className=\"w-12 h-12 bg-black/80 hover:bg-black/90 backdrop-blur-md rounded-full flex items-center justify-center transition-all duration-200 hover:scale-110 border border-gray-600 hover:border-gray-400\"\n            title=\"Close Video\"\n          >\n            <svg \n              className=\"w-6 h-6 text-white\" \n              fill=\"none\" \n              stroke=\"currentColor\" \n              viewBox=\"0 0 24 24\"\n            >\n              <path \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\" \n                strokeWidth={2} \n                d=\"M6 18L18 6M6 6l12 12\" \n              />\n            </svg>\n          </button>\n        </div>\n\n        {/* Show Information Card */}\n        {currentShow && (\n          <div className=\"absolute top-4 left-4 z-10\">\n            <div className=\"bg-black/90 backdrop-blur-md rounded-lg p-4 max-w-sm border border-gray-700\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-12 h-12 bg-gray-800 rounded-lg overflow-hidden flex-shrink-0\">\n                  <img \n                    src={currentShow.image || \"https://mmo.aiircdn.com/1449/67f4d50dd6ded.jpg\"} \n                    alt={currentShow.show_name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-white font-bold text-lg truncate\">\n                    {currentShow.show_name}\n                  </h3>\n                  <p className=\"text-gray-300 text-sm truncate\">\n                    {currentShow.presenters}\n                  </p>\n                  <div className=\"flex items-center mt-1\">\n                    <div className=\"relative flex h-2 w-2 mr-2\">\n                      <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n                      <span className=\"relative inline-flex rounded-full h-2 w-2 bg-red-500\"></span>\n                    </div>\n                    <span className=\"text-red-400 font-medium text-xs\">LIVE</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}